"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[434],{434:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(861),a=n(439),s=n(757),i=n.n(s),c=n(791),u=n(87),o=n(689),l=n(159),m={title:"movies_title__lRp4I",wrap:"movies_wrap__FKj8F",movie__form:"movies_movie__form__LgC3d",movie__input:"movies_movie__input__2q3Px",btn:"movies_btn__9bsmc",list:"movies_list__sBPaI",list__item:"movies_list__item__UzFNo",link__item:"movies_link__item__1ytmg"},_=n(184),p=function(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],s=t[1],p=(0,c.useState)(!0),v=(0,a.Z)(p,2),f=v[0],h=v[1],d=(0,u.lr)(),x=(0,a.Z)(d,2),w=x[0],b=x[1],g=w.get("query"),k=(0,c.useState)((function(){return g||""})),y=(0,a.Z)(k,2),j=y[0],N=y[1],Z=(0,o.TH)();(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,(0,l.q)(g);case 4:t=e.sent,n=t.results,s(n),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();g&&e()}),[g]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:m.wrap,children:(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b({query:j})},className:m.movie__form,children:[(0,_.jsx)("input",{value:j,onChange:function(e){N(e.target.value)},name:"search",type:"text",placeholder:"Search movie",className:m.movie__input}),(0,_.jsx)("button",{type:"submit",className:m.btn,children:"Search"})]})}),(0,_.jsx)("ul",{className:m.list,children:g?f?"Loading...":n.length>0?n.map((function(e){var t=e.title,n=e.id;return(0,_.jsx)("li",{className:m.list__item,children:(0,_.jsx)(u.rU,{className:m.link__item,state:{from:Z},to:"/movies/".concat(n),children:t})},n)})):(0,_.jsx)("p",{children:"No movies with this title were found."}):(0,_.jsx)("p",{className:m.descr})})]})}},159:function(e,t,n){n.d(t,{M:function(){return c},q:function(){return o}});var r=n(861),a=n(757),s=n.n(a),i=n(243).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"f83854a9f07b692049f953a5cb8c1e39",language:"en-US"}});function c(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/movie/".concat(t,"/credits"),e.prev=1,e.next=4,i.get(n);case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function o(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/search/movie?query=".concat(t),e.prev=1,e.next=4,i.get(n);case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=434.85fa8dd3.chunk.js.map